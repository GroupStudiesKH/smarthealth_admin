import{_ as M,p as w,u as D,r as d,q as I,i as S,j as i,o as l,c,k as m,b as e,l as v,t as r,F as y,f as g}from"./index-6761c57d.js";import{F,N,_ as x}from"./sidebar-38b40803.js";import{S as E}from"./StudentDetailModal-d8e65078.js";const V={components:{Footer:F,Navbar:N,Sidebar:x,StudentDetailModal:E},setup(){w(),D().params.id;const a=d({name:"",email:"",created_at:""}),_=d([]),o=d(!1),u=d(null),p=I([{key:"name",label:"課程名稱"},{key:"instructor",label:"課程講師"},{key:"category",label:"分類"},{key:"completion_rate",label:"完課率"},{key:"average_score",label:"平均分數"},{key:"actions",label:"操作"}]),b=async()=>{try{const s={name:"測試會員",email:"test@example.com",created_at:"2023-01-01"};a.value=s}catch(s){console.error("Failed to fetch member info:",s)}},h=async()=>{try{const s=Array(5).fill(null).map((t,n)=>({id:n+1,name:`測試課程${n+1}`,instructor:`講師${n+1}`,category:`分類${n%3+1}`,completion_rate:Math.round(Math.random()*100)+"%",average_score:Math.round(Math.random()*100),chapters:Array(5).fill(null).map((Z,C)=>({name:`章節${C+1}`,completion:Math.random()>.5,score:Math.round(Math.random()*100)}))}));_.value=s}catch(s){console.error("Failed to fetch course data:",s)}},f=s=>{u.value=s,o.value=!0};return S(()=>{b(),h()}),{memberInfo:a,tableData:_,tableColumns:p,showModal:o,selectedCourse:u,handleViewDetails:f}}},A={class:"main-wrapper"},B={class:"page-wrapper"},R={class:"page-content"},q={class:"row"},L={class:"col-md-12 grid-margin stretch-card"},T={class:"card"},j={class:"card-body"},z={class:"mb-4"},G={class:"row"},P={class:"col-md-4"},U={class:"mb-2"},H={class:"col-md-4"},J={class:"mb-2"},K={class:"col-md-4"},O={class:"mb-2"},Q={class:"table-responsive"},W={class:"table table-hover"},X=["onClick"];function Y(k,a,_,o,u,p){const b=i("Sidebar"),h=i("Navbar"),f=i("StudentDetailModal"),s=i("Footer");return l(),c("div",A,[m(b),e("div",B,[m(h),e("div",R,[e("div",q,[e("div",L,[e("div",T,[e("div",j,[a[5]||(a[5]=e("h6",{class:"card-title mb-4"},"學習紀錄統計",-1)),e("div",z,[e("div",G,[e("div",P,[e("p",U,[a[1]||(a[1]=e("strong",null,"會員名稱：",-1)),v(" "+r(o.memberInfo.name),1)])]),e("div",H,[e("p",J,[a[2]||(a[2]=e("strong",null,"Email：",-1)),v(" "+r(o.memberInfo.email),1)])]),e("div",K,[e("p",O,[a[3]||(a[3]=e("strong",null,"註冊日期：",-1)),v(" "+r(new Date(o.memberInfo.created_at).toLocaleDateString()),1)])])])]),e("div",Q,[e("table",W,[e("thead",null,[e("tr",null,[(l(!0),c(y,null,g(o.tableColumns,t=>(l(),c("th",{key:t.key},r(t.label),1))),128))])]),e("tbody",null,[(l(!0),c(y,null,g(o.tableData,t=>(l(),c("tr",{key:t.id},[e("td",null,r(t.name),1),e("td",null,r(t.instructor),1),e("td",null,r(t.category),1),e("td",null,r(t.completion_rate),1),e("td",null,r(t.average_score),1),e("td",null,[e("button",{class:"btn btn-sm btn-info",onClick:n=>o.handleViewDetails(t)},a[4]||(a[4]=[e("i",{class:"material-icons"},"visibility",-1)]),8,X)])]))),128))])])]),m(f,{show:o.showModal,"onUpdate:show":a[0]||(a[0]=t=>o.showModal=t),student:{name:o.memberInfo.name,email:o.memberInfo.email,courseName:o.selectedCourse?o.selectedCourse.name:"-",totalTime:o.selectedCourse?"計算中":"-",lastAccess:o.memberInfo.created_at,progress:o.selectedCourse?parseInt(o.selectedCourse.completion_rate):0,chapterProgress:o.selectedCourse?o.selectedCourse.chapters.map(t=>({name:t.name,progress:t.completion?100:0,score:t.score})):[],quizResults:o.selectedCourse?[...o.selectedCourse.chapters.filter(t=>t.score).map(t=>({name:`${t.name}測驗`,score:t.score,date:"-",isExam:!1})),{name:"期中考試",score:85,date:"2023-12-01",isExam:!0},{name:"期末考試",score:90,date:"2023-12-15",isExam:!0}]:[]}},null,8,["show","student"])])])])])]),m(s)])])}const te=M(V,[["render",Y]]);export{te as default};
