import{_ as h,p as F,r as y,i as g,j as i,o as c,c as l,k as _,b as t,F as q,f as k,t as p}from"./index-20bcdf47.js";import{F as x,N as A,_ as C,a as v}from"./sidebar-d8a107a2.js";const L={components:{Footer:x,Navbar:A,Sidebar:C},setup(){const r=F(),s=y([]),u=()=>{r.push({name:"faqAdd"})},n=e=>{r.push({name:"faqEdit",params:{id:e.id}})},m=async e=>{if(confirm("確定要刪除這個 FAQ 項目嗎？"))try{await v.deletePost(e);const a=s.value.findIndex(d=>d.id===e);a!==-1&&s.value.splice(a,1)}catch(a){console.error("Error deleting FAQ:",a),alert("刪除失敗，請稍後再試")}},b=async()=>{try{const e=await v.getPosts({type:"faq"});s.value=e}catch(e){console.error("Error fetching FAQ list:",e)}};return g(()=>{b()}),{faqList:s,addFaq:u,editFaq:n,deleteFaq:m}}},N={class:"main-wrapper"},w={class:"page-wrapper"},Q={class:"page-content"},S={class:"row"},E={class:"col-md-12 grid-margin stretch-card"},B={class:"card"},j={class:"card-body"},I={class:"d-flex justify-content-end mb-3"},P={class:"table-responsive"},V={class:"table"},$={class:"sortable-list"},D=["onClick"],M=["onClick"];function R(r,s,u,n,m,b){const e=i("Navbar"),a=i("Sidebar"),d=i("Footer");return c(),l("div",N,[_(e),_(a),t("div",w,[t("div",Q,[t("div",S,[t("div",E,[t("div",B,[t("div",j,[s[2]||(s[2]=t("h6",{class:"card-title"},"FAQ 管理",-1)),t("div",I,[t("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=(...o)=>n.addFaq&&n.addFaq(...o))},"新增 FAQ")]),t("div",P,[t("table",V,[s[1]||(s[1]=t("thead",null,[t("tr",null,[t("th",null,"標題"),t("th",null,"排序"),t("th",null,"狀態"),t("th",null,"操作")])],-1)),t("tbody",$,[(c(!0),l(q,null,k(n.faqList,(o,z)=>(c(),l("tr",{key:o.id},[t("td",null,p(o.title),1),t("td",null,p(o.sort),1),t("td",null,p(o.status=="active"?"啟用":"停用"),1),t("td",null,[t("button",{class:"btn btn-sm btn-primary me-2",onClick:f=>n.editFaq(o)},"編輯",8,D),t("button",{class:"btn btn-sm btn-danger",onClick:f=>n.deleteFaq(o.id)},"刪除",8,M)])]))),128))])])])])])])])]),_(d)])])}const J=h(L,[["render",R],["__scopeId","data-v-5efde8f0"]]);export{J as default};
