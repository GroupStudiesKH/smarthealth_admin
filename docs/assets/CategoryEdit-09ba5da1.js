import{_ as g,i as y,u as N,r as d,j as h,k as s,o as u,c as x,b as t,l as n,d as S,e as w,g as k,y as F,p as C,a as V,F as B,m as L}from"./index-f4222dcd.js";import{F as T,N as E,_ as I,a as _}from"./sidebar-2e25ed0e.js";import{L as M}from"./loading-7e8c33f0.js";const j={components:{Footer:T,Navbar:E,Sidebar:I,Loading:M},setup(){const m=y(),e=N(),r=d(""),a=d(!1),c=d(null);return h(async()=>{try{const o=e.params.id;a.value=!0;const i=await _.getTag(o);a.value=!1,r.value=i.name}catch(o){console.error("獲取分類失敗:",o),a.value=!1,c.value="無法載入分類資料"}finally{a.value=!1}}),{categoryName:r,handleSubmit:async()=>{try{const o=e.params.id;a.value=!0,await _.editTag(o,{name:r.value}),a.value=!1,m.push({name:"category-list"})}catch(o){console.error("更新失敗:",o),c.value="儲存分類時發生錯誤"}},loading:a}}},R={class:"main-wrapper"},q={class:"page-wrapper"},D={class:"page-content"},U={class:"row mb-4"},z={class:"col-md-12 grid-margin stretch-card"},A={class:"card"},G={class:"card-body"},H={class:"mb-3"},J={class:"d-flex justify-content-end"};function K(m,e,r,a,c,p){const o=s("Sidebar"),i=s("Navbar"),v=s("router-link"),b=s("Footer"),f=s("Loading");return u(),x(B,null,[t("div",R,[n(o),t("div",q,[n(i),t("div",D,[t("div",U,[t("div",z,[t("div",A,[t("div",G,[e[5]||(e[5]=t("h6",{class:"card-title"},"編輯課程分類",-1)),t("form",{onSubmit:e[1]||(e[1]=S((...l)=>a.handleSubmit&&a.handleSubmit(...l),["prevent"]))},[t("div",H,[e[2]||(e[2]=t("label",{for:"categoryName",class:"form-label"},"分類名稱",-1)),w(t("input",{type:"text",class:"form-control",id:"categoryName","onUpdate:modelValue":e[0]||(e[0]=l=>a.categoryName=l),required:""},null,512),[[k,a.categoryName]])]),t("div",J,[n(v,{class:"btn btn-secondary me-2",to:{name:"category-list"}},{default:F(()=>e[3]||(e[3]=[L(" 取消 ")])),_:1}),e[4]||(e[4]=t("button",{type:"submit",class:"btn btn-primary"},"儲存",-1))])],32)])])])])]),n(b)])]),a.loading?(u(),C(f,{key:0})):V("",!0)],64)}const W=g(j,[["render",K],["__scopeId","data-v-50bb7c9f"]]);export{W as default};
