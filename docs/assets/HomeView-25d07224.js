import{_ as f,p as w,r as i,i as C,j as _,o as c,c as n,b as s,k as h,t as l,F as u,f as b,m as M,a as S}from"./index-d5779e68.js";import{F as k,N as x,_ as N,a as F}from"./sidebar-aa2c2d34.js";import{L}from"./loading-4a76ab30.js";const B={components:{Footer:k,Navbar:x,Sidebar:N,Loading:L},setup(){w();const r=i(!1),t=i({totalMembers:0,newMonthlyMembers:0,totalCourses:0,publicCourses:0}),m=i([]),o=i([]),v=async()=>{try{r.value=!0;const a=await F.getDashboard();r.value=!1,t.value={totalMembers:a.total_members,newMonthlyMembers:a.new_members_this_month,totalCourses:a.total_courses,publicCourses:a.published_courses},m.value=a.popular_courses.map(e=>({name:e.title,enrollments:e.enrollment_count,id:e.id})),o.value=a.popular_instructors.map(e=>({name:e.name,students:e.student_count,id:e.id,courses:e.course_count}))}catch(a){r.value=!1,console.error("獲取儀表板數據失敗:",a)}};return C(()=>{v()}),{memberStats:t,popularCourses:m,popularTeachers:o,loading:r}}},D={class:"main-wrapper"},V={class:"page-wrapper"},T={class:"page-content"},j={class:"row"},E={class:"col-12 col-xl-12 stretch-card"},H={class:"row flex-grow-1"},R={class:"col-md-3 grid-margin stretch-card"},q={class:"card"},z={class:"card-body"},A={class:"row"},G={class:"col-12"},I={class:"mb-2"},J={class:"col-md-3 grid-margin stretch-card"},K={class:"card"},O={class:"card-body"},P={class:"row"},Q={class:"col-12"},U={class:"mb-2"},W={class:"col-md-3 grid-margin stretch-card"},X={class:"card"},Y={class:"card-body"},Z={class:"row"},$={class:"col-12"},ss={class:"mb-2"},ts={class:"col-md-3 grid-margin stretch-card"},os={class:"card"},es={class:"card-body"},as={class:"row"},ls={class:"col-12"},ds={class:"mb-2"},cs={class:"row"},rs={class:"col-lg-7 col-xl-8 grid-margin stretch-card"},ns={class:"card"},is={class:"card-body"},_s={class:"table-responsive"},ms={class:"table"},hs={class:"col-lg-5 col-xl-4 grid-margin stretch-card"},us={class:"card"},vs={class:"card-body"},bs={class:"table-responsive"},ps={class:"table"};function gs(r,t,m,o,v,a){const e=_("Sidebar"),p=_("Navbar"),g=_("Footer"),y=_("Loading");return c(),n(u,null,[s("div",D,[h(e),s("div",V,[h(p),s("div",T,[s("div",j,[s("div",E,[s("div",H,[s("div",R,[s("div",q,[s("div",z,[t[0]||(t[0]=s("h6",{class:"card-title"},"總會員數量",-1)),s("div",A,[s("div",G,[s("h3",I,l(o.memberStats.totalMembers),1)])])])])]),s("div",J,[s("div",K,[s("div",O,[t[1]||(t[1]=s("h6",{class:"card-title"},"本月新增會員",-1)),s("div",P,[s("div",Q,[s("h3",U,l(o.memberStats.newMonthlyMembers),1)])])])])]),s("div",W,[s("div",X,[s("div",Y,[t[2]||(t[2]=s("h6",{class:"card-title"},"總課程數量",-1)),s("div",Z,[s("div",$,[s("h3",ss,l(o.memberStats.totalCourses),1)])])])])]),s("div",ts,[s("div",os,[s("div",es,[t[3]||(t[3]=s("h6",{class:"card-title"},"公開課程數量",-1)),s("div",as,[s("div",ls,[s("h3",ds,l(o.memberStats.publicCourses),1)])])])])])])])]),s("div",cs,[s("div",rs,[s("div",ns,[s("div",is,[t[5]||(t[5]=s("h6",{class:"card-title"},"本月熱門課程排行",-1)),s("div",_s,[s("table",ms,[t[4]||(t[4]=s("thead",null,[s("tr",null,[s("th",null,"課程名稱"),s("th",null,"報名人數")])],-1)),s("tbody",null,[(c(!0),n(u,null,b(o.popularCourses,d=>(c(),n("tr",{key:d.id},[s("td",null,l(d.name),1),s("td",null,l(d.enrollments),1)]))),128))])])])])])]),s("div",hs,[s("div",us,[s("div",vs,[t[7]||(t[7]=s("h6",{class:"card-title"},"本月熱門講師排行",-1)),s("div",bs,[s("table",ps,[t[6]||(t[6]=s("thead",null,[s("tr",null,[s("th",null,"講師姓名"),s("th",null,"課程數"),s("th",null,"學員數")])],-1)),s("tbody",null,[(c(!0),n(u,null,b(o.popularTeachers,d=>(c(),n("tr",{key:d.id},[s("td",null,l(d.name),1),s("td",null,l(d.courses),1),s("td",null,l(d.students),1)]))),128))])])])])])])])]),h(g)])]),o.loading?(c(),M(y,{key:0})):S("",!0)],64)}const Cs=f(B,[["render",gs]]);export{Cs as default};
