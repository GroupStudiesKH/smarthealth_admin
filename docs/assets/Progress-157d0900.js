import{_ as L,p as I,u as M,r as d,k as N,l as C,o as n,c as l,m as k,a as e,d as V,f as O,v as Q,F as S,e as P,h as f,t as a,j as R,n as F,b as h}from"./index-05809435.js";import{F as B,N as H,_ as j}from"./sidebar-79652a8d.js";const U={components:{Footer:B,Navbar:H,Sidebar:j},setup(){const v=I();M();const t=d([{id:1,name:"除了資料統一，規則統一，還要有應用程式市集",instructor:"王大明",category:"醫療資訊系統",completionRate:88,averageScore:85,students_count:180},{id:2,name:"統一台灣電子病歷的策略思考",instructor:"李小華",category:"電子病歷",completionRate:92,averageScore:88,students_count:165},{id:3,name:"開發FHIR工具，FHIR資料中臺實現互通",instructor:"張醫師",category:"醫療標準規範",completionRate:95,averageScore:92,students_count:150},{id:4,name:"臺灣醫中電子病歷資料統一的架構",instructor:"陳工程師",category:"醫療資料交換",completionRate:87,averageScore:85,students_count:142},{id:5,name:"FHIR 統一資料，但是沒有統一規則",instructor:"林教授",category:"醫療標準規範",completionRate:90,averageScore:89,students_count:98}]),g=d(1),o=d(10),m=d(""),_=d(""),w=N(()=>[...new Set(t.value.map(r=>r.category))]),i=d(""),c=d("asc"),s=(r,p)=>{if(!i.value)return 0;const y=r[i.value],u=p[i.value];return c.value==="asc"?y-u:u-y},b=r=>{i.value===r?c.value=c.value==="asc"?"desc":"asc":(i.value=r,c.value="asc")},T=N(()=>{const r=t.value.filter(u=>{const z=u.name.toLowerCase().includes(m.value.toLowerCase())||u.instructor.toLowerCase().includes(m.value.toLowerCase()),D=!_.value||u.category===_.value;return z&&D});i.value&&r.sort(s),x.value=Math.ceil(r.length/o.value);const p=(g.value-1)*o.value,y=p+o.value;return r.slice(p,y)}),x=d(1);return{courses:T,categories:w,searchQuery:m,selectedCategory:_,viewDetails:r=>{v.push(`/statistics/course-report/${r}`)},currentPage:g,totalPages:x,goToPage:r=>{g.value=r},toggleSort:b,sortField:i,sortOrder:c}}},E={class:"main-wrapper"},q={class:"page-wrapper"},A={class:"page-content"},G={class:"row"},J={class:"col-md-12 grid-margin stretch-card"},K={class:"card"},W={class:"card-body"},X={class:"row mb-3"},Y={class:"col-md-6"},Z={class:"col-md-3"},$=["value"],ee={class:"col-md-3 text-end"},te={class:"table-responsive"},oe={class:"table table-hover"},se={key:0,class:"material-icons align-middle",style:{"font-size":"16px"}},re={key:0,class:"material-icons align-middle",style:{"font-size":"16px"}},ae={key:0,class:"material-icons align-middle",style:{"font-size":"16px"}},ne=["onClick"],le={class:"d-flex justify-content-center mt-4"},ie={class:"pagination"},de=["onClick"];function ce(v,t,g,o,m,_){const w=C("Sidebar"),i=C("Navbar"),c=C("Footer");return n(),l("div",E,[k(w),e("div",q,[k(i),e("div",A,[e("div",G,[e("div",J,[e("div",K,[e("div",W,[t[17]||(t[17]=e("h6",{class:"card-title"},"學習進度統計",-1)),e("div",X,[e("div",Y,[V(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>o.searchQuery=s),placeholder:"搜尋課程名稱或講師..."},null,512),[[O,o.searchQuery]])]),e("div",Z,[V(e("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=s=>o.selectedCategory=s)},[t[8]||(t[8]=e("option",{value:""},"所有分類",-1)),(n(!0),l(S,null,P(o.categories,s=>(n(),l("option",{key:s,value:s},a(s),9,$))),128))],512),[[Q,o.selectedCategory]])]),e("div",ee,[e("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=(...s)=>v.exportReport&&v.exportReport(...s))},t[9]||(t[9]=[e("i",{class:"material-icons align-middle me-1"},"file_download",-1),f(" 匯出報表 ")]))])]),e("div",te,[e("table",oe,[e("thead",null,[e("tr",null,[t[13]||(t[13]=e("th",null,"課程名稱",-1)),t[14]||(t[14]=e("th",null,"課程講師",-1)),t[15]||(t[15]=e("th",null,"分類",-1)),e("th",{onClick:t[3]||(t[3]=s=>o.toggleSort("completionRate")),style:{cursor:"pointer"}},[t[10]||(t[10]=f(" 完課率 ")),o.sortField==="completionRate"?(n(),l("i",se,a(o.sortOrder==="asc"?"arrow_upward":"arrow_downward"),1)):R("",!0)]),e("th",{onClick:t[4]||(t[4]=s=>o.toggleSort("averageScore")),style:{cursor:"pointer"}},[t[11]||(t[11]=f(" 平均分數 ")),o.sortField==="averageScore"?(n(),l("i",re,a(o.sortOrder==="asc"?"arrow_upward":"arrow_downward"),1)):R("",!0)]),e("th",{onClick:t[5]||(t[5]=s=>o.toggleSort("students_count")),style:{cursor:"pointer"}},[t[12]||(t[12]=f(" 上課人數 ")),o.sortField==="students_count"?(n(),l("i",ae,a(o.sortOrder==="asc"?"arrow_upward":"arrow_downward"),1)):R("",!0)]),t[16]||(t[16]=e("th",null,"操作",-1))])]),e("tbody",null,[(n(!0),l(S,null,P(o.courses,s=>(n(),l("tr",{key:s.id},[e("td",null,a(s.name),1),e("td",null,a(s.instructor),1),e("td",null,a(s.category),1),e("td",null,a(s.completionRate)+"%",1),e("td",null,a(s.averageScore)+"分",1),e("td",null,a(s.students_count)+"人",1),e("td",null,[e("button",{class:"btn btn-primary btn-sm",onClick:b=>o.viewDetails(s.id)}," 檢視詳細 ",8,ne)])]))),128))])])]),e("div",le,[e("nav",null,[e("ul",ie,[e("li",{class:F(["page-item",{disabled:o.currentPage===1}])},[e("a",{class:"page-link",href:"#",onClick:t[6]||(t[6]=h(s=>o.goToPage(o.currentPage-1),["prevent"]))}," 上一頁 ")],2),(n(!0),l(S,null,P(o.totalPages,s=>(n(),l("li",{key:s,class:F(["page-item",{active:o.currentPage===s}])},[e("a",{class:"page-link",href:"#",onClick:h(b=>o.goToPage(s),["prevent"])},a(s),9,de)],2))),128)),e("li",{class:F(["page-item",{disabled:o.currentPage===o.totalPages}])},[e("a",{class:"page-link",href:"#",onClick:t[7]||(t[7]=h(s=>o.goToPage(o.currentPage+1),["prevent"]))}," 下一頁 ")],2)])])])])])])])]),k(c)])])}const _e=L(U,[["render",ce],["__scopeId","data-v-d2f7a633"]]);export{_e as default};
