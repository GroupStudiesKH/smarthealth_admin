import{a as _}from"./sidebar-35292d72.js";import{_ as v,o as d,c as r,b as t,t as o,l as a,h as c,F as b,f as m,a as u}from"./index-d90b8e7f.js";const y={name:"StudentDetailModal",props:{show:{type:Boolean,required:!0},student:{type:Object,required:!0},courseId:{type:String,required:!0},studentId:{type:String,required:!0}},emits:["update:show"],setup(i,{emit:s}){return{closeModal:()=>{s("update:show",!1)},downloadCertificate:()=>{console.log("下載結訓證明",i.student)},downloadLearningRecord:()=>{_.getCourseStudentExcel(i.courseId,i.studentId)}}}},f={key:0},w={class:"modal fade show d-block",tabindex:"-1",role:"dialog","aria-hidden":"true"},h={class:"modal-dialog modal-lg",role:"document"},k={class:"modal-content"},C={class:"modal-header"},S={class:"modal-title"},M={key:0,class:"modal-body"},p={class:"student-info mb-4"},x={class:"row"},R={class:"col-md-6"},I={class:"col-md-6"},L={class:"progress mb-3"},N={class:"chapter-progress mb-4"},B={class:"table-responsive"},D={class:"table"},q={class:"progress"},V={class:"quiz-results"},E={class:"table-responsive"},F={class:"table"},T={class:"modal-footer"};function j(i,s,l,n,g,A){return l.show?(d(),r("div",f,[t("div",w,[t("div",h,[t("div",k,[t("div",C,[t("h5",S,o(l.student.courseName)+" - "+o(l.student.name)+" 同學學習資料",1),t("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=(...e)=>n.closeModal&&n.closeModal(...e))})]),l.student?(d(),r("div",M,[t("div",p,[s[9]||(s[9]=t("h6",null,"基本資訊",-1)),t("div",x,[t("div",R,[t("p",null,[s[4]||(s[4]=t("strong",null,"學生姓名：",-1)),a(o(l.student.name),1)]),t("p",null,[s[5]||(s[5]=t("strong",null,"電子郵件：",-1)),a(o(l.student.email),1)]),t("p",null,[s[6]||(s[6]=t("strong",null,"課程名稱：",-1)),a(o(l.student.courseName),1)])]),t("div",I,[t("p",null,[s[7]||(s[7]=t("strong",null,"總學習時數：",-1)),a(o(l.student.totalTime),1)]),t("p",null,[s[8]||(s[8]=t("strong",null,"最後登入：",-1)),a(o(l.student.lastAccess),1)])])]),t("div",L,[t("div",{class:"progress-bar bg-success",role:"progressbar",style:c({width:l.student.progress+"%"})}," 總進度："+o(l.student.progress)+"% ",5)])]),t("div",N,[s[11]||(s[11]=t("h6",null,"章節進度",-1)),t("div",B,[t("table",D,[s[10]||(s[10]=t("thead",null,[t("tr",null,[t("th",null,"章節名稱"),t("th",null,"完成進度")])],-1)),t("tbody",null,[(d(!0),r(b,null,m(l.student.chapterProgress,e=>(d(),r("tr",{key:e.title},[t("td",null,o(e.title),1),t("td",null,[t("div",q,[t("div",{class:"progress-bar bg-info",role:"progressbar",style:c({width:e.progress+"%"})},o(e.progress)+"% ",5)])])]))),128))])])])]),t("div",V,[s[13]||(s[13]=t("h6",null,"測驗成績記錄",-1)),t("div",E,[t("table",F,[s[12]||(s[12]=t("thead",null,[t("tr",null,[t("th",null,"日期"),t("th",null,"分數"),t("th",null,"是否通過"),t("th",null,"耗時")])],-1)),t("tbody",null,[l.student.quizResults?(d(!0),r(b,{key:0},m(l.student.quizResults,e=>(d(),r("tr",{key:e.id},[t("td",null,o(e.date),1),t("td",null,o(e.score),1),t("td",null,o(e.is_pass?"通過":"未通過"),1),t("td",null,o(e.time)+" 分鐘",1)]))),128)):u("",!0)])])])])])):u("",!0),t("div",T,[t("button",{type:"button",class:"btn btn-primary me-2",onClick:s[1]||(s[1]=(...e)=>n.downloadLearningRecord&&n.downloadLearningRecord(...e))},"學習紀錄下載"),t("button",{type:"button",class:"btn btn-primary me-2",onClick:s[2]||(s[2]=(...e)=>n.downloadCertificate&&n.downloadCertificate(...e))},"結訓證明下載"),t("button",{type:"button",class:"btn btn-secondary",onClick:s[3]||(s[3]=(...e)=>n.closeModal&&n.closeModal(...e))},"關閉")])])])]),s[14]||(s[14]=t("div",{class:"modal-backdrop fade show"},null,-1))])):u("",!0)}const z=v(y,[["render",j],["__scopeId","data-v-1a504a44"]]);export{z as S};
