import{_ as b,i as y,u as N,r as d,j as h,k as s,o as u,c as x,b as a,l as r,d as S,e as w,g as k,y as F,p as L,a as T,F as V,m as B}from"./index-f4222dcd.js";import{F as C,N as E,_ as I,a as _}from"./sidebar-2e25ed0e.js";import{L as M}from"./loading-7e8c33f0.js";const j={components:{Footer:C,Navbar:E,Sidebar:I,Loading:M},setup(){const m=y(),e=N(),n=d(""),t=d(!0),c=d(null);return h(async()=>{try{const o=e.params.id;t.value=!0;const i=await _.getTag(o);t.value=!1,n.value=i.name}catch(o){console.error("獲取分類失敗:",o),t.value=!1,c.value="無法載入分類資料"}finally{t.value=!1}}),{categoryName:n,handleSubmit:async()=>{try{const o=e.params.id;t.value=!0,await _.editTag(o,{name:n.value}),t.value=!1,m.push({name:"tagList"})}catch(o){console.error("更新失敗:",o),t.value=!1,c.value="儲存分類時發生錯誤"}},loading:t}}},R={class:"main-wrapper"},q={class:"page-wrapper"},D={class:"page-content"},U={class:"row mb-4"},z={class:"col-md-12 grid-margin stretch-card"},A={class:"card"},G={class:"card-body"},H={class:"mb-3"},J={class:"d-flex justify-content-end"};function K(m,e,n,t,c,p){const o=s("Sidebar"),i=s("Navbar"),v=s("router-link"),f=s("Footer"),g=s("Loading");return u(),x(V,null,[a("div",R,[r(o),a("div",q,[r(i),a("div",D,[a("div",U,[a("div",z,[a("div",A,[a("div",G,[e[5]||(e[5]=a("h6",{class:"card-title"},"編輯課程標籤",-1)),a("form",{onSubmit:e[1]||(e[1]=S((...l)=>t.handleSubmit&&t.handleSubmit(...l),["prevent"]))},[a("div",H,[e[2]||(e[2]=a("label",{for:"categoryName",class:"form-label"},"標籤名稱",-1)),w(a("input",{type:"text",class:"form-control",id:"categoryName","onUpdate:modelValue":e[0]||(e[0]=l=>t.categoryName=l),required:""},null,512),[[k,t.categoryName]])]),a("div",J,[r(v,{class:"btn btn-secondary me-2",to:{name:"tagList"}},{default:F(()=>e[3]||(e[3]=[B(" 取消 ")])),_:1}),e[4]||(e[4]=a("button",{type:"submit",class:"btn btn-primary"},"儲存",-1))])],32)])])])])]),r(f)])]),t.loading?(u(),L(g,{key:0})):T("",!0)],64)}const W=b(j,[["render",K],["__scopeId","data-v-b53c75f8"]]);export{W as default};
