import{a as y}from"./sidebar-e7787657.js";import{_ as v,o as d,c as r,b as t,t as e,l as a,h as b,F as i,f as m,a as c}from"./index-56250ee1.js";const _={name:"StudentDetailModal",props:{show:{type:Boolean,required:!0},student:{type:Object,required:!0},courseId:{type:String,required:!0},studentId:{type:String,required:!0}},emits:["update:show"],setup(u,{emit:s}){return{closeModal:()=>{s("update:show",!1)},downloadCertificate:()=>{console.log("下載結訓證明",u.student)},downloadLearningRecord:()=>{y.getCourseStudentExcel(u.courseId,u.studentId)}}}},f={key:0},w={class:"modal fade show d-block",tabindex:"-1",role:"dialog","aria-hidden":"true"},k={class:"modal-dialog modal-lg",role:"document"},C={class:"modal-content"},S={class:"modal-header"},h={class:"modal-title"},x={key:0,class:"modal-body"},M={class:"student-info mb-4"},R={class:"row"},p={class:"col-md-6"},I={class:"col-md-6"},L={class:"progress mb-3"},N={class:"chapter-progress mb-4"},B={class:"table-responsive"},D={class:"table"},E={class:"progress"},V={class:"quiz-results"},q={class:"table-responsive"},F={class:"table"},T={class:"modal-footer"};function j(u,s,n,o,g,A){return n.show?(d(),r("div",f,[t("div",w,[t("div",k,[t("div",C,[t("div",S,[t("h5",h,e(n.student.courseName)+" - "+e(n.student.name)+" 同學學習資料",1),t("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=(...l)=>o.closeModal&&o.closeModal(...l))})]),n.student?(d(),r("div",x,[t("div",M,[s[9]||(s[9]=t("h6",null,"基本資訊",-1)),t("div",R,[t("div",p,[t("p",null,[s[4]||(s[4]=t("strong",null,"學生姓名：",-1)),a(e(n.student.name),1)]),t("p",null,[s[5]||(s[5]=t("strong",null,"電子郵件：",-1)),a(e(n.student.email),1)]),t("p",null,[s[6]||(s[6]=t("strong",null,"課程名稱：",-1)),a(e(n.student.courseName),1)])]),t("div",I,[t("p",null,[s[7]||(s[7]=t("strong",null,"總學習時數：",-1)),a(e(n.student.totalTime),1)]),t("p",null,[s[8]||(s[8]=t("strong",null,"最後登入：",-1)),a(e(n.student.lastAccess),1)])])]),t("div",L,[t("div",{class:"progress-bar bg-success",role:"progressbar",style:b({width:n.student.progress+"%"})}," 總進度："+e(n.student.progress)+"% ",5)])]),t("div",N,[s[11]||(s[11]=t("h6",null,"章節進度",-1)),t("div",B,[t("table",D,[s[10]||(s[10]=t("thead",null,[t("tr",null,[t("th",null,"章節名稱"),t("th",null,"完成進度"),t("th",null,"測驗分數")])],-1)),t("tbody",null,[(d(!0),r(i,null,m(n.student.chapterProgress,l=>(d(),r("tr",{key:l.name},[t("td",null,e(l.name),1),t("td",null,[t("div",E,[t("div",{class:"progress-bar bg-info",role:"progressbar",style:b({width:l.progress+"%"})},e(l.progress)+"% ",5)])]),t("td",null,e(l.score||"尚未完成"),1)]))),128))])])])]),t("div",V,[s[15]||(s[15]=t("h6",null,"測驗成績記錄",-1)),t("div",q,[t("table",F,[s[14]||(s[14]=t("thead",null,[t("tr",null,[t("th",null,"測驗類型"),t("th",null,"測驗名稱"),t("th",null,"分數"),t("th",null,"完成日期")])],-1)),t("tbody",null,[n.student.quizResults?(d(),r(i,{key:0},[(d(!0),r(i,null,m(n.student.quizResults.filter(l=>!l.isExam),l=>(d(),r("tr",{key:l.name},[s[12]||(s[12]=t("td",null,"章節測驗",-1)),t("td",null,e(l.name),1),t("td",null,e(l.score),1),t("td",null,e(l.date),1)]))),128)),(d(!0),r(i,null,m(n.student.quizResults.filter(l=>l.isExam),l=>(d(),r("tr",{key:l.name,class:"table-primary"},[s[13]||(s[13]=t("td",null,"大考",-1)),t("td",null,e(l.name),1),t("td",null,e(l.score),1),t("td",null,e(l.date),1)]))),128))],64)):c("",!0)])])])])])):c("",!0),t("div",T,[t("button",{type:"button",class:"btn btn-primary me-2",onClick:s[1]||(s[1]=(...l)=>o.downloadLearningRecord&&o.downloadLearningRecord(...l))},"學習紀錄下載"),t("button",{type:"button",class:"btn btn-primary me-2",onClick:s[2]||(s[2]=(...l)=>o.downloadCertificate&&o.downloadCertificate(...l))},"結訓證明下載"),t("button",{type:"button",class:"btn btn-secondary",onClick:s[3]||(s[3]=(...l)=>o.closeModal&&o.closeModal(...l))},"關閉")])])])]),s[16]||(s[16]=t("div",{class:"modal-backdrop fade show"},null,-1))])):c("",!0)}const G=v(_,[["render",j],["__scopeId","data-v-8a947fc6"]]);export{G as S};
