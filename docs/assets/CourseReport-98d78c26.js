import{_ as P,o as a,c as r,b as e,l as m,t as n,F as f,f as w,n as x,a as M,p as F,u as A,r as u,G as D,j as p,k as _,h as S,d as I}from"./index-b7e60ae9.js";import{F as H,N as q,_ as N}from"./sidebar-f26ea1a9.js";import{S as T}from"./StudentDetailModal-703d14e7.js";const z={name:"ExamReviewModal",props:{show:{type:Boolean,required:!0},examData:{type:Object,required:!0}},emits:["update:show"],setup(g,{emit:s}){return{closeModal:()=>{s("update:show",!1)}}}},j={key:0,class:"modal fade show d-block",tabindex:"-1",role:"dialog","aria-hidden":"true"},B={class:"modal-dialog modal-lg",role:"document"},V={class:"modal-content"},U={class:"modal-header"},G={class:"modal-body"},L={class:"exam-info mb-4"},O={class:"row"},J={class:"col-md-6"},K={class:"answer-list"},Q={class:"table-responsive"},W={class:"table"},X={key:0,class:"badge bg-success"},Y={key:1,class:"badge bg-danger"};function Z(g,s,d,t,h,i){return d.show?(a(),r("div",j,[e("div",B,[e("div",V,[e("div",U,[s[1]||(s[1]=e("h5",{class:"modal-title"},"測驗閱卷詳情",-1)),e("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=(...l)=>t.closeModal&&t.closeModal(...l))})]),e("div",G,[e("div",L,[e("div",O,[e("div",J,[e("p",null,[s[2]||(s[2]=e("strong",null,"測驗名稱：",-1)),m(n(d.examData.examName),1)]),e("p",null,[s[3]||(s[3]=e("strong",null,"測驗時間：",-1)),m(n(d.examData.examTime),1)]),e("p",null,[s[4]||(s[4]=e("strong",null,"考試分數：",-1)),m(n(d.examData.score)+"分",1)])])])]),e("div",K,[s[6]||(s[6]=e("h6",null,"作答詳情",-1)),e("div",Q,[e("table",W,[s[5]||(s[5]=e("thead",null,[e("tr",null,[e("th",null,"題號"),e("th",null,"題目"),e("th",null,"學生答案"),e("th",null,"正確答案"),e("th",null,"是否正確"),e("th",null,"填答時間")])],-1)),e("tbody",null,[(a(!0),r(f,null,w(d.examData.answers,l=>(a(),r("tr",{key:l.questionId,class:x({"table-success":l.isCorrect,"table-danger":!l.isCorrect})},[e("td",null,n(l.questionId),1),e("td",null,n(l.question),1),e("td",null,n(l.studentAnswer),1),e("td",null,n(l.correctAnswer),1),e("td",null,[l.isCorrect?(a(),r("span",X,"正確")):(a(),r("span",Y,"錯誤"))]),e("td",null,n(l.answerTime),1)],2))),128))])])])])])])])])):M("",!0)}const $=P(z,[["render",Z],["__scopeId","data-v-fab8bc24"]]);const ee={components:{Footer:H,Navbar:q,Sidebar:N,StudentDetailModal:T,ExamReviewModal:$},setup(){F(),A().params.id;const s=u(!1),d=u(null),t=u(!1),h=u(null),i=u({name:"開發FHIR工具，FHIR資料中臺實現互通",instructor:"王大明",category:"醫療標準規範",completionRate:92,averageScore:88,chapters:[{name:"第一章：FHIR標準介紹與應用",completionRate:95},{name:"第二章：資料中臺架構設計",completionRate:92},{name:"第三章：FHIR API開發實務",completionRate:90},{name:"第四章：系統整合與測試",completionRate:88}],students:[{name:"張小明",email:"zhang@example.com",id:1,totalTime:"32小時",lastAccess:"2024-01-15",progress:92,chapterProgress:[{name:"第一章：FHIR標準介紹與應用",progress:100,score:92},{name:"第二章：資料中臺架構設計",progress:95,score:88},{name:"第三章：FHIR API開發實務",progress:85,score:90},{name:"第四章：系統整合與測試",progress:80,score:85}],quizResults:[{name:"第一章測驗",score:92,date:"2024-01-05",isExam:!1},{name:"第二章測驗",score:88,date:"2024-01-08",isExam:!1},{name:"第三章測驗",score:90,date:"2024-01-12",isExam:!1},{name:"第四章測驗",score:85,date:"2024-01-15",isExam:!1},{name:"期中考試",score:89,date:"2024-01-10",isExam:!0},{name:"期末考試",score:91,date:"2024-01-20",isExam:!0}]}]}),l=u(1),v=u(2),R=D(()=>{const c=(l.value-1)*v.value,b=c+v.value;return i.value.students.slice(c,b)}),y=D(()=>Math.ceil(i.value.students.length/v.value));return{courseDetail:i,currentPage:l,totalPages:y,paginatedStudents:R,handlePageChange:c=>{l.value=c},viewStudent:c=>{const b=i.value.students.find(C=>C.id===c);b&&(d.value={...b,courseName:i.value.name,progress:92,totalTime:"32小時",lastAccess:"2024-01-15",chapterProgress:[{name:"第一章：FHIR標準介紹與應用",progress:100,score:92},{name:"第二章：資料中臺架構設計",progress:95,score:88},{name:"第三章：FHIR API開發實務",progress:85,score:90},{name:"第四章：系統整合與測試",progress:80,score:85}],quizResults:[{name:"第一章測驗",score:92,date:"2024-01-05"},{name:"第二章測驗",score:88,date:"2024-01-08"},{name:"第三章測驗",score:90,date:"2024-01-12"},{name:"第四章測驗",score:85,date:"2024-01-15"}]},s.value=!0)},showStudentModal:s,selectedStudent:d,showExamModal:t,selectedExamData:h,viewExam:c=>{i.value.students.find(C=>C.id===c)&&(h.value={examName:"期末考試",examTime:"2024-01-20 14:30",score:91,answers:[{questionId:1,question:"什麼是FHIR（Fast Healthcare Interoperability Resources）？",studentAnswer:"FHIR是一種現代化的醫療資訊交換標準，用於促進醫療系統間的數據互通",correctAnswer:"FHIR是一種現代化的醫療資訊交換標準，用於促進醫療系統間的數據互通",isCorrect:!0,answerTime:"14:35"},{questionId:2,question:"FHIR的主要優勢是什麼？",studentAnswer:"RESTful API支援、現代網路技術整合",correctAnswer:"RESTful API支援、現代網路技術整合、彈性的資料模型",isCorrect:!1,answerTime:"14:37"}]},t.value=!0)}}}},se={class:"main-wrapper"},te={class:"page-wrapper"},oe={class:"page-content"},ne={class:"row"},le={class:"col-md-12 grid-margin stretch-card"},ae={class:"card"},re={class:"card-body"},de={class:"d-flex justify-content-between align-items-center mb-3"},ie={class:"course-info mt-3"},ce={class:"row"},ue={class:"col-md-6"},me={class:"col-md-6"},ge={class:"progress"},ve={class:"progress"},be={class:"table-responsive mb-4"},pe={class:"table table-hover"},_e={class:"progress"},he={class:"table-responsive"},fe={class:"table table-hover"},we={class:"btn-group"},xe=["onClick"],Re=["onClick"],ye={key:0,class:"mt-3"},ke={class:"pagination justify-content-center"},Ce=["onClick"];function Se(g,s,d,t,h,i){const l=p("Sidebar"),v=p("Navbar"),R=p("StudentDetailModal"),y=p("ExamReviewModal"),E=p("Footer");return a(),r("div",se,[_(l),e("div",te,[_(v),e("div",oe,[e("div",ne,[e("div",le,[e("div",ae,[e("div",re,[e("div",de,[s[6]||(s[6]=e("h6",{class:"card-title mb-0"},"課程詳細報表",-1)),e("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=(...o)=>g.exportReport&&g.exportReport(...o))},s[5]||(s[5]=[e("i",{class:"material-icons align-middle me-1"},"file_download",-1),m(" 匯出報表 ")]))]),s[14]||(s[14]=e("hr",null,null,-1)),e("div",ie,[e("div",ce,[e("div",ue,[e("p",null,[s[7]||(s[7]=e("strong",null,"課程名稱：",-1)),m(n(t.courseDetail.name),1)]),e("p",null,[s[8]||(s[8]=e("strong",null,"講師：",-1)),m(n(t.courseDetail.instructor),1)]),e("p",null,[s[9]||(s[9]=e("strong",null,"課程分類：",-1)),m(n(t.courseDetail.category),1)])]),e("div",me,[e("p",null,[s[10]||(s[10]=e("strong",null,"總完課率：",-1)),e("div",ge,[e("div",{class:"progress-bar bg-success",role:"progressbar",style:S({width:t.courseDetail.completionRate+"%"})},n(t.courseDetail.completionRate)+"% ",5)])]),e("p",null,[s[11]||(s[11]=e("strong",null,"平均分數：",-1)),e("div",ve,[e("div",{class:"progress-bar bg-info",role:"progressbar",style:S({width:t.courseDetail.averageScore+"%"})},n(t.courseDetail.averageScore)+"分 ",5)])])])])]),s[15]||(s[15]=e("h6",{class:"card-subtitle mt-3"},"章節完課率",-1)),s[16]||(s[16]=e("hr",null,null,-1)),e("div",be,[e("table",pe,[s[12]||(s[12]=e("thead",null,[e("tr",null,[e("th",null,"章節名稱"),e("th",null,"完課率")])],-1)),e("tbody",null,[(a(!0),r(f,null,w(t.courseDetail.chapters,o=>(a(),r("tr",{key:o.name},[e("td",null,n(o.name),1),e("td",null,[e("div",_e,[e("div",{class:"progress-bar bg-success",role:"progressbar",style:S({width:o.completionRate+"%"})},n(o.completionRate)+"% ",5)])])]))),128))])])]),s[17]||(s[17]=e("h6",{class:"card-subtitle mt-3"},"參加學生列表",-1)),s[18]||(s[18]=e("hr",null,null,-1)),e("div",he,[e("table",fe,[s[13]||(s[13]=e("thead",null,[e("tr",null,[e("th",null,"學生名稱"),e("th",null,"學生Email"),e("th",null,"操作")])],-1)),e("tbody",null,[(a(!0),r(f,null,w(t.paginatedStudents,o=>(a(),r("tr",{key:o.id},[e("td",null,n(o.name),1),e("td",null,n(o.email),1),e("td",null,[e("div",we,[e("button",{class:"btn btn-primary btn-sm",onClick:k=>t.viewStudent(o.id)}," 檢視 ",8,xe),e("button",{class:"btn btn-info btn-sm",onClick:k=>t.viewExam(o.id)}," 測驗閱卷詳情 ",8,Re)])])]))),128))])])]),t.totalPages>1?(a(),r("nav",ye,[e("ul",ke,[e("li",{class:x(["page-item",{disabled:t.currentPage===1}])},[e("a",{class:"page-link",href:"#",onClick:s[1]||(s[1]=I(o=>t.handlePageChange(t.currentPage-1),["prevent"]))}," 上一頁 ")],2),(a(!0),r(f,null,w(t.totalPages,o=>(a(),r("li",{key:o,class:x(["page-item",{active:t.currentPage===o}])},[e("a",{class:"page-link",href:"#",onClick:I(k=>t.handlePageChange(o),["prevent"])},n(o),9,Ce)],2))),128)),e("li",{class:x(["page-item",{disabled:t.currentPage===t.totalPages}])},[e("a",{class:"page-link",href:"#",onClick:s[2]||(s[2]=I(o=>t.handlePageChange(t.currentPage+1),["prevent"]))}," 下一頁 ")],2)])])):M("",!0),_(R,{show:t.showStudentModal,"onUpdate:show":s[3]||(s[3]=o=>t.showStudentModal=o),student:t.selectedStudent},null,8,["show","student"]),_(y,{show:t.showExamModal,"onUpdate:show":s[4]||(s[4]=o=>t.showExamModal=o),examData:t.selectedExamData},null,8,["show","examData"])])])])])]),_(E)])])}const Pe=P(ee,[["render",Se],["__scopeId","data-v-b1148e3b"]]);export{Pe as default};
