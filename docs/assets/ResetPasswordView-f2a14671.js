import{_ as k,p as x,u as h,r as e,j as S,o as i,c,b as s,l as p,e as f,g as v,t as w,k as E,y as C,n as y,a as _}from"./index-5d17c262.js";const V={setup(){const m=x();h();const o=e(""),n=e(""),l=e(!1),r=e(!1),d=e(""),t=e(!1);return{password:o,password_confirmation:n,submitForm:async g=>{var u,b;if(g.preventDefault(),o.value!==n.value){d.value="兩次輸入的密碼不一致",t.value=!0;return}r.value=!0;try{l.value=!0}catch(M){d.value=((b=(u=M.response)==null?void 0:u.data)==null?void 0:b.message)||"重設密碼失敗",t.value=!0}finally{r.value=!1}},showSuccessModal:l,closeSuccessModal:()=>{l.value=!1,m.push("/login")},isLoading:r,errorMessage:d,showErrorModal:t,closeErrorModal:()=>{t.value=!1}}}},F={class:"main-wrapper"},N={class:"page-wrapper full-page"},B={class:"page-content d-flex align-items-center justify-content-center"},D={class:"row w-100 mx-0 auth-page"},L={class:"col-md-10 col-lg-8 col-xl-6 mx-auto"},R={class:"card"},j={class:"row"},q={class:"col-md-8 ps-md-0"},T={class:"auth-form-wrapper px-4 py-5"},U={class:"mb-3"},z={class:"mb-3"},H=["disabled"],P={class:"modal-dialog"},A={class:"modal-content"},G={class:"modal-header"},I={class:"modal-footer"},J={class:"modal-dialog"},K={class:"modal-content"},O={class:"modal-header"},Q={class:"modal-body"},W={class:"modal-footer"};function X(m,o,n,l,r,d){const t=S("router-link");return i(),c("div",F,[s("div",N,[s("div",B,[s("div",D,[s("div",L,[s("div",R,[s("div",j,[o[13]||(o[13]=s("div",{class:"col-md-4 pe-md-0"},[s("div",{class:"auth-side-wrapper",style:{"background-image":"url('assets/images/login.webp')"}})],-1)),s("div",q,[s("div",T,[o[10]||(o[10]=s("a",{href:"#",class:"nobleui-logo d-block mb-2"},[p("Smart"),s("span",null,"Health")],-1)),o[11]||(o[11]=s("h5",{class:"text-secondary fw-normal mb-4"},"重設密碼",-1)),o[12]||(o[12]=s("p",{class:"mb-4"},"請輸入您的新密碼。",-1)),s("form",{class:"forms-sample",onSubmit:o[2]||(o[2]=(...a)=>l.submitForm&&l.submitForm(...a))},[s("div",U,[o[7]||(o[7]=s("label",{for:"password",class:"form-label"},"新密碼",-1)),f(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":o[0]||(o[0]=a=>l.password=a),placeholder:"請輸入新密碼",required:""},null,512),[[v,l.password]])]),s("div",z,[o[8]||(o[8]=s("label",{for:"password_confirmation",class:"form-label"},"確認密碼",-1)),f(s("input",{type:"password",class:"form-control",id:"password_confirmation","onUpdate:modelValue":o[1]||(o[1]=a=>l.password_confirmation=a),placeholder:"請再次輸入新密碼",required:""},null,512),[[v,l.password_confirmation]])]),s("button",{type:"submit",class:"btn btn-primary me-2 mb-2 mb-md-0",disabled:l.isLoading},w(l.isLoading?"處理中...":"確認重設密碼"),9,H),E(t,{to:"/login",class:"btn btn-secondary"},{default:C(()=>o[9]||(o[9]=[p(" 返回登入 ")])),_:1})],32)])])])])])])])]),l.showSuccessModal?(i(),c("div",{key:0,class:y(["modal fade",{show:l.showSuccessModal}]),tabindex:"-1",style:{display:"block"}},[s("div",P,[s("div",A,[s("div",G,[o[14]||(o[14]=s("h5",{class:"modal-title"},"重設成功",-1)),s("button",{type:"button",class:"btn-close",onClick:o[3]||(o[3]=(...a)=>l.closeSuccessModal&&l.closeSuccessModal(...a))})]),o[15]||(o[15]=s("div",{class:"modal-body"},[s("p",null,"密碼已重設成功，請使用新密碼登入。")],-1)),s("div",I,[s("button",{type:"button",class:"btn btn-primary",onClick:o[4]||(o[4]=(...a)=>l.closeSuccessModal&&l.closeSuccessModal(...a))},"確定")])])])],2)):_("",!0),l.showErrorModal?(i(),c("div",{key:1,class:y(["modal fade",{show:l.showErrorModal}]),tabindex:"-1",style:{display:"block"}},[s("div",J,[s("div",K,[s("div",O,[o[16]||(o[16]=s("h5",{class:"modal-title"},"錯誤",-1)),s("button",{type:"button",class:"btn-close",onClick:o[5]||(o[5]=(...a)=>l.closeErrorModal&&l.closeErrorModal(...a))})]),s("div",Q,[s("p",null,w(l.errorMessage),1)]),s("div",W,[s("button",{type:"button",class:"btn btn-primary",onClick:o[6]||(o[6]=(...a)=>l.closeErrorModal&&l.closeErrorModal(...a))},"確定")])])])],2)):_("",!0)])}const ss=k(V,[["render",X]]);export{ss as default};
