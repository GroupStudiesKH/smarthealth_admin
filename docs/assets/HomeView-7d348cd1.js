import{_ as w,p as y,r as _,i as f,j as m,o as c,c as r,k as h,b as s,t as a,F as u,f as v}from"./index-9daaab36.js";import{F as M,N as S,_ as C,a as x}from"./sidebar-a960fed0.js";const F={components:{Footer:M,Navbar:S,Sidebar:C},setup(){y();const n=_({totalMembers:0,newMonthlyMembers:0,totalCourses:0,publicCourses:0}),t=_([]),i=_([]),l=async()=>{try{const o=await x.getDashboard();n.value={totalMembers:o.total_members,newMonthlyMembers:o.new_members_this_month,totalCourses:o.total_courses,publicCourses:o.published_courses},t.value=o.popular_courses.map(e=>({name:e.title,enrollments:e.enrollment_count,id:e.id})),i.value=o.popular_instructors.map(e=>({name:e.name,students:e.student_count,id:e.id,courses:e.course_count}))}catch(o){console.error("獲取儀表板數據失敗:",o)}};return f(()=>{l()}),{memberStats:n,popularCourses:t,popularTeachers:i}}},N={class:"main-wrapper"},k={class:"page-wrapper"},D={class:"page-content"},B={class:"row"},V={class:"col-12 col-xl-12 stretch-card"},T={class:"row flex-grow-1"},j={class:"col-md-3 grid-margin stretch-card"},E={class:"card"},H={class:"card-body"},L={class:"row"},R={class:"col-12"},q={class:"mb-2"},z={class:"col-md-3 grid-margin stretch-card"},A={class:"card"},G={class:"card-body"},I={class:"row"},J={class:"col-12"},K={class:"mb-2"},O={class:"col-md-3 grid-margin stretch-card"},P={class:"card"},Q={class:"card-body"},U={class:"row"},W={class:"col-12"},X={class:"mb-2"},Y={class:"col-md-3 grid-margin stretch-card"},Z={class:"card"},$={class:"card-body"},ss={class:"row"},ts={class:"col-12"},os={class:"mb-2"},es={class:"row"},as={class:"col-lg-7 col-xl-8 grid-margin stretch-card"},ls={class:"card"},ds={class:"card-body"},cs={class:"table-responsive"},rs={class:"table"},ns={class:"col-lg-5 col-xl-4 grid-margin stretch-card"},is={class:"card"},_s={class:"card-body"},ms={class:"table-responsive"},hs={class:"table"};function us(n,t,i,l,o,e){const b=m("Sidebar"),p=m("Navbar"),g=m("Footer");return c(),r("div",N,[h(b),s("div",k,[h(p),s("div",D,[s("div",B,[s("div",V,[s("div",T,[s("div",j,[s("div",E,[s("div",H,[t[0]||(t[0]=s("h6",{class:"card-title"},"總會員數量",-1)),s("div",L,[s("div",R,[s("h3",q,a(l.memberStats.totalMembers),1)])])])])]),s("div",z,[s("div",A,[s("div",G,[t[1]||(t[1]=s("h6",{class:"card-title"},"本月新增會員",-1)),s("div",I,[s("div",J,[s("h3",K,a(l.memberStats.newMonthlyMembers),1)])])])])]),s("div",O,[s("div",P,[s("div",Q,[t[2]||(t[2]=s("h6",{class:"card-title"},"總課程數量",-1)),s("div",U,[s("div",W,[s("h3",X,a(l.memberStats.totalCourses),1)])])])])]),s("div",Y,[s("div",Z,[s("div",$,[t[3]||(t[3]=s("h6",{class:"card-title"},"公開課程數量",-1)),s("div",ss,[s("div",ts,[s("h3",os,a(l.memberStats.publicCourses),1)])])])])])])])]),s("div",es,[s("div",as,[s("div",ls,[s("div",ds,[t[5]||(t[5]=s("h6",{class:"card-title"},"本月熱門課程排行",-1)),s("div",cs,[s("table",rs,[t[4]||(t[4]=s("thead",null,[s("tr",null,[s("th",null,"課程名稱"),s("th",null,"報名人數")])],-1)),s("tbody",null,[(c(!0),r(u,null,v(l.popularCourses,d=>(c(),r("tr",{key:d.id},[s("td",null,a(d.name),1),s("td",null,a(d.enrollments),1)]))),128))])])])])])]),s("div",ns,[s("div",is,[s("div",_s,[t[7]||(t[7]=s("h6",{class:"card-title"},"本月熱門講師排行",-1)),s("div",ms,[s("table",hs,[t[6]||(t[6]=s("thead",null,[s("tr",null,[s("th",null,"講師姓名"),s("th",null,"課程數"),s("th",null,"學員數")])],-1)),s("tbody",null,[(c(!0),r(u,null,v(l.popularTeachers,d=>(c(),r("tr",{key:d.id},[s("td",null,a(d.name),1),s("td",null,a(d.courses),1),s("td",null,a(d.students),1)]))),128))])])])])])])])]),h(g)])])}const ps=w(F,[["render",us]]);export{ps as default};
