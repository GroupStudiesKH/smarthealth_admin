import{_ as x,u as R,i as k,r as g,j as N,k as d,o as a,c as n,b as t,l as m,t as s,F as l,f as b,p as w,a as S,m as f}from"./index-f4222dcd.js";import{F,N as L,_ as B,a as E}from"./sidebar-2e25ed0e.js";import{L as T}from"./loading-7e8c33f0.js";const V={components:{Footer:F,Navbar:L,Sidebar:B,Loading:T},setup(){const p=R(),r=k(),i=p.params.id,e=g(!1),u=g({}),h=()=>{r.push(`/statistics/course-report/${i}`)},_=async()=>{try{e.value=!0;const c=await E.getQuestionStatistics({course_id:i});e.value=!1,u.value=c}catch(c){console.error("Error fetching course exam result:",c)}};return N(()=>{_()}),{examResult:u,goToCourseReport:h,loading:e}}},A={class:"main-wrapper"},D={class:"page-wrapper"},M={class:"page-content"},j={class:"row"},I={class:"col-md-12 grid-margin stretch-card"},P={class:"card"},Q={class:"card-body"},z={class:"card-title"},G={class:"alert alert-info mb-4"},H={class:"d-flex align-items-center"},J={class:"me-3"},K={class:"mb-0"},O={class:"ms-auto"},U={class:"mb-0"},W={class:"table-responsive"},X={class:"table"},Y={class:"text-end mt-4"};function Z(p,r,i,e,u,h){const _=d("Sidebar"),c=d("Navbar"),y=d("Footer"),C=d("Loading");return a(),n(l,null,[t("div",A,[m(_),t("div",D,[m(c),t("div",M,[t("div",j,[t("div",I,[t("div",P,[t("div",Q,[t("h6",z,s(e.examResult.courseName)+" - 測驗結果分析 ",1),t("div",G,[t("div",H,[t("div",J,[t("h3",K,s(e.examResult.averageScore),1),r[1]||(r[1]=t("small",null,"平均分數",-1))]),t("div",O,[t("h3",U,s(e.examResult.totalParticipants),1),r[2]||(r[2]=t("small",null,"參與人數",-1))])])]),t("div",W,[t("table",X,[r[3]||(r[3]=t("thead",null,[t("tr",null,[t("th",null,"題型"),t("th",null,"題目"),t("th",null,"正確答案"),t("th",null,"答對人數"),t("th",null,"答錯人數"),t("th",null,"正確率"),t("th",null,"所屬範圍")])],-1)),t("tbody",null,[(a(!0),n(l,null,b(e.examResult.questions,o=>(a(),n("tr",{key:o.id},[t("td",null,s(o.type),1),t("td",null,s(o.question),1),t("td",null,[o.type==="是非題"?(a(),n(l,{key:0},[f(s(o.correctAnswer?"是":"否"),1)],64)):o.type==="單選題"?(a(),n(l,{key:1},[f(s(o.options[o.correctAnswer]),1)],64)):(a(!0),n(l,{key:2},b(o.correctAnswer,v=>(a(),n("div",{key:v},s(o.options[v]),1))),128))]),t("td",null,s(o.correctCount),1),t("td",null,s(o.incorrectCount),1),t("td",null,s(o.correctCount+o.incorrectCount===0?0:Math.round(o.correctCount/(o.correctCount+o.incorrectCount)*100))+"% ",1),t("td",null,s(o.chapter),1)]))),128))])])]),t("div",Y,[t("button",{class:"btn btn-primary",onClick:r[0]||(r[0]=(...o)=>e.goToCourseReport&&e.goToCourseReport(...o))}," 查看課程詳細報表 ")])])])])])]),m(y)])]),e.loading?(a(),w(C,{key:0})):S("",!0)],64)}const ot=x(V,[["render",Z]]);export{ot as default};
