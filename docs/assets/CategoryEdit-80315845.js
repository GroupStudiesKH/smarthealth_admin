import{_ as g,i as y,u as N,r as d,j as h,k as s,o as u,c as x,b as t,l as n,d as S,e as w,g as k,y as F,p as C,a as V,F as B,m as L}from"./index-b90c0ad9.js";import{F as T,N as E,_ as I}from"./sidebar-87f173a3.js";import{a as _}from"./api-service-e3b33b42.js";import{L as M}from"./loading-113a0e4d.js";const j={components:{Footer:T,Navbar:E,Sidebar:I,Loading:M},setup(){const m=y(),e=N(),r=d(""),o=d(!1),c=d(null);return h(async()=>{try{const a=e.params.id;o.value=!0;const i=await _.getTag(a);o.value=!1,r.value=i.name}catch(a){console.error("獲取分類失敗:",a),o.value=!1,c.value="無法載入分類資料"}finally{o.value=!1}}),{categoryName:r,handleSubmit:async()=>{try{const a=e.params.id;o.value=!0,await _.editTag(a,{name:r.value}),o.value=!1,m.push({name:"category-list"})}catch(a){console.error("更新失敗:",a),c.value="儲存分類時發生錯誤"}},loading:o}}},R={class:"main-wrapper"},q={class:"page-wrapper"},D={class:"page-content"},U={class:"row mb-4"},z={class:"col-md-12 grid-margin stretch-card"},A={class:"card"},G={class:"card-body"},H={class:"mb-3"},J={class:"d-flex justify-content-end"};function K(m,e,r,o,c,p){const a=s("Sidebar"),i=s("Navbar"),v=s("router-link"),b=s("Footer"),f=s("Loading");return u(),x(B,null,[t("div",R,[n(a),t("div",q,[n(i),t("div",D,[t("div",U,[t("div",z,[t("div",A,[t("div",G,[e[5]||(e[5]=t("h6",{class:"card-title"},"編輯課程分類",-1)),t("form",{onSubmit:e[1]||(e[1]=S((...l)=>o.handleSubmit&&o.handleSubmit(...l),["prevent"]))},[t("div",H,[e[2]||(e[2]=t("label",{for:"categoryName",class:"form-label"},"分類名稱",-1)),w(t("input",{type:"text",class:"form-control",id:"categoryName","onUpdate:modelValue":e[0]||(e[0]=l=>o.categoryName=l),required:""},null,512),[[k,o.categoryName]])]),t("div",J,[n(v,{class:"btn btn-secondary me-2",to:{name:"category-list"}},{default:F(()=>e[3]||(e[3]=[L(" 取消 ")])),_:1}),e[4]||(e[4]=t("button",{type:"submit",class:"btn btn-primary"},"儲存",-1))])],32)])])])])]),n(b)])]),o.loading?(u(),C(f,{key:0})):V("",!0)],64)}const X=g(j,[["render",K],["__scopeId","data-v-50bb7c9f"]]);export{X as default};
