import{_ as N,i as x,u as w,r as d,j as S,k as n,o as _,c as h,b as t,l as c,d as k,e as v,g as f,y as F,p as L,a as T,F as V,m as B}from"./index-d9a4837b.js";import{F as C,N as E,_ as I}from"./sidebar-8bac9383.js";import{a as b}from"./api-service-a37f4a4e.js";import{L as M}from"./loading-2df061c6.js";const j={components:{Footer:C,Navbar:E,Sidebar:I,Loading:M},setup(){const u=x(),e=w(),i=d(""),o=d(""),a=d(!0),m=d(null);return S(async()=>{try{const s=e.params.id;a.value=!0;const l=await b.getTag(s);a.value=!1,i.value=l.name,o.value=l.description||""}catch(s){console.error("獲取分類失敗:",s),a.value=!1,m.value="無法載入分類資料"}finally{a.value=!1}}),{categoryName:i,description:o,handleSubmit:async()=>{try{const s=e.params.id;a.value=!0,await b.editTag(s,{name:i.value,description:o.value}),a.value=!1,u.push({name:"tagList"})}catch(s){console.error("更新失敗:",s),a.value=!1,m.value="儲存分類時發生錯誤"}},loading:a}}},R={class:"main-wrapper"},U={class:"page-wrapper"},q={class:"page-content"},D={class:"row mb-4"},z={class:"col-md-12 grid-margin stretch-card"},A={class:"card"},G={class:"card-body"},H={class:"mb-3"},J={class:"mb-3"},K={class:"d-flex justify-content-end"};function O(u,e,i,o,a,m){const p=n("Sidebar"),s=n("Navbar"),l=n("router-link"),g=n("Footer"),y=n("Loading");return _(),h(V,null,[t("div",R,[c(p),t("div",U,[c(s),t("div",q,[t("div",D,[t("div",z,[t("div",A,[t("div",G,[e[7]||(e[7]=t("h6",{class:"card-title"},"編輯課程標籤",-1)),t("form",{onSubmit:e[2]||(e[2]=k((...r)=>o.handleSubmit&&o.handleSubmit(...r),["prevent"]))},[t("div",H,[e[3]||(e[3]=t("label",{for:"categoryName",class:"form-label"},"標籤名稱",-1)),v(t("input",{type:"text",class:"form-control",id:"categoryName","onUpdate:modelValue":e[0]||(e[0]=r=>o.categoryName=r),required:""},null,512),[[f,o.categoryName]])]),t("div",J,[e[4]||(e[4]=t("label",{for:"description",class:"form-label"},"標籤描述",-1)),v(t("textarea",{class:"form-control",id:"description","onUpdate:modelValue":e[1]||(e[1]=r=>o.description=r),rows:"5"},null,512),[[f,o.description]])]),t("div",K,[c(l,{class:"btn btn-secondary me-2",to:{name:"tagList"}},{default:F(()=>e[5]||(e[5]=[B(" 取消 ")])),_:1}),e[6]||(e[6]=t("button",{type:"submit",class:"btn btn-primary"},"儲存",-1))])],32)])])])])]),c(g)])]),o.loading?(_(),L(y,{key:0})):T("",!0)],64)}const Y=N(j,[["render",O],["__scopeId","data-v-3f4e99e9"]]);export{Y as default};
