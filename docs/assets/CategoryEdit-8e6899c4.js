import{_ as y,p as b,u as g,r as l,i as f,j as r,o as N,c as h,k as n,b as t,d as x,e as S,g as w,y as k,l as C}from"./index-b7e60ae9.js";import{F,N as T,_ as V,a as _}from"./sidebar-f26ea1a9.js";const B={components:{Footer:F,Navbar:T,Sidebar:V},setup(){const m=b(),e=g(),a=l(""),s=l(!0),c=l(null);return f(async()=>{try{const o=e.params.id,i=await _.getTag(o);a.value=i.name}catch(o){console.error("獲取分類失敗:",o),c.value="無法載入分類資料"}finally{s.value=!1}}),{categoryName:a,handleSubmit:async()=>{try{const o=e.params.id;await _.editTag(o,{name:a.value}),m.push({name:"category-list"})}catch(o){console.error("更新失敗:",o),c.value="儲存分類時發生錯誤"}}}}},E={class:"main-wrapper"},I={class:"page-wrapper"},M={class:"page-content"},j={class:"row mb-4"},R={class:"col-md-12 grid-margin stretch-card"},q={class:"card"},D={class:"card-body"},U={class:"mb-3"},$={class:"d-flex justify-content-end"};function z(m,e,a,s,c,u){const o=r("Sidebar"),i=r("Navbar"),p=r("router-link"),v=r("Footer");return N(),h("div",E,[n(o),t("div",I,[n(i),t("div",M,[t("div",j,[t("div",R,[t("div",q,[t("div",D,[e[5]||(e[5]=t("h6",{class:"card-title"},"編輯課程分類",-1)),t("form",{onSubmit:e[1]||(e[1]=x((...d)=>s.handleSubmit&&s.handleSubmit(...d),["prevent"]))},[t("div",U,[e[2]||(e[2]=t("label",{for:"categoryName",class:"form-label"},"分類名稱",-1)),S(t("input",{type:"text",class:"form-control",id:"categoryName","onUpdate:modelValue":e[0]||(e[0]=d=>s.categoryName=d),required:""},null,512),[[w,s.categoryName]])]),t("div",$,[n(p,{class:"btn btn-secondary me-2",to:{name:"category-list"}},{default:k(()=>e[3]||(e[3]=[C(" 取消 ")])),_:1}),e[4]||(e[4]=t("button",{type:"submit",class:"btn btn-primary"},"儲存",-1))])],32)])])])])]),n(v)])])}const H=y(B,[["render",z],["__scopeId","data-v-e740e447"]]);export{H as default};
