import{_ as v,p as C,u as f,r as g,i as y,j as i,o as d,c as u,k as p,b as t,l as k,F as N,f as w,t as b,n as F}from"./index-56250ee1.js";import{F as x,N as S,_ as $,a as B}from"./sidebar-e7787657.js";const I={components:{Footer:x,Navbar:S,Sidebar:$},setup(){const a=C(),s=f(),r=g([]),n=()=>{a.push(`/course/${s.params.courseId}/chapter/add`)},_=o=>{a.push(`/course/${s.params.courseId}/chapter/${o}/edit`)},h=async o=>{if(confirm("確定要刪除此章節嗎？"))try{console.log("刪除章節:",o)}catch(c){console.error("刪除章節失敗:",c)}},l=async()=>{try{const o=await B.getChapters(s.params.courseId);r.value=o}catch(o){console.log(o)}};return y(()=>{l()}),{chapters:r,addChapter:n,editChapter:_,deleteChapter:h}}},V={class:"main-wrapper"},j={class:"page-wrapper"},L={class:"page-content"},R={class:"row"},z={class:"col-md-12 grid-margin stretch-card"},D={class:"card"},E={class:"card-body"},M={class:"d-flex justify-content-between align-items-center mb-4"},T={class:"table-responsive"},q={class:"table table-hover"},A=["onClick"],G=["onClick"];function H(a,s,r,n,_,h){const l=i("Navbar"),o=i("Sidebar"),c=i("Footer");return d(),u("div",V,[p(l),p(o),t("div",j,[t("div",L,[t("div",R,[t("div",z,[t("div",D,[t("div",E,[t("div",M,[s[2]||(s[2]=t("h6",{class:"card-title mb-0"},"章節管理",-1)),t("button",{type:"button",class:"btn btn-primary",onClick:s[0]||(s[0]=(...e)=>n.addChapter&&n.addChapter(...e))},s[1]||(s[1]=[t("i",{class:"link-icon","data-feather":"plus"},null,-1),k(" 新增章節 ")]))]),t("div",T,[t("table",q,[s[3]||(s[3]=t("thead",null,[t("tr",null,[t("th",null,"章節標題"),t("th",null,"狀態"),t("th",null,"新增日期"),t("th",null,"操作")])],-1)),t("tbody",null,[(d(!0),u(N,null,w(n.chapters,e=>(d(),u("tr",{key:e.id},[t("td",null,b(e.title),1),t("td",null,[t("span",{class:F({"badge bg-success":e.status==="publish","badge bg-warning":e.status==="unpublish"})},b(e.status=="publish"?"公開":"未公開"),3)]),t("td",null,b(e.created_at),1),t("td",null,[t("button",{class:"btn btn-sm btn-outline-primary me-2",onClick:m=>n.editChapter(e.id)}," 編輯 ",8,A),t("button",{class:"btn btn-sm btn-outline-danger",onClick:m=>n.deleteChapter(e.id)}," 刪除 ",8,G)])]))),128))])])])])])])])]),p(c)])])}const O=v(I,[["render",H]]);export{O as default};
